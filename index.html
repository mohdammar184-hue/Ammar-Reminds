<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ammar Reminds</title>  <!-- PWA -->  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#1e40af" />  <!-- Fonts -->  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Amiri:wght@400;700&display=swap" rel="stylesheet">  <style>
    body { margin: 0; font-family: Inter, sans-serif; background: #f9fafb; color: #111827; }
    header { background: linear-gradient(135deg, #1e3a8a, #2563eb); color: white; padding: 20px; text-align: center; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px; }
    header h1 { margin: 0; font-size: 26px; font-weight: 700; }
    header p { margin: 6px 0 0; opacity: 0.9; font-size: 14px; }
    .container { padding: 16px; max-width: 900px; margin: auto; }
    .card { background: white; border-radius: 18px; padding: 16px; margin-bottom: 16px; box-shadow: 0 6px 20px rgba(0,0,0,0.05); }
    .title { font-weight: 600; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
    .ayah-ar { font-family: Amiri, serif; font-size: 22px; direction: rtl; text-align: right; margin: 10px 0; line-height: 1.9; }
    .ayah-en { font-size: 14px; color: #4b5563; }
    button { background: #2563eb; border: none; color: white; padding: 10px 14px; border-radius: 12px; cursor: pointer; font-weight: 600; }
    button.secondary { background: #f3f4f6; color: #111827; }
    input, select { width: 100%; padding: 10px; border-radius: 12px; border: 1px solid #e5e7eb; font-size: 14px; outline: none; }
    .surah-list { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
    .surah-btn { background: #f9fafb; border: 1px solid #e5e7eb; padding: 10px; border-radius: 14px; font-size: 13px; cursor: pointer; }
    .surah-btn:hover { background: #eef2ff; }
    audio { width: 100%; margin-top: 6px; }
    footer { text-align: center; font-size: 12px; color: #6b7280; padding: 20px 10px; }
    .prayer-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
    .prayer-item { background: #f9fafb; padding: 12px; border-radius: 14px; border: 1px solid #e5e7eb; font-size: 14px; }
  </style></head>
<body><header>
  <h1>Ammar Reminds</h1>
  <p>Qur‚Äôan ‚Ä¢ Reminder ‚Ä¢ Reflection</p>
</header><div class="container">  <!-- Ayah of the Day -->  <div class="card" id="ayahCard">
    <div class="title">üåô Ayah of the Day</div>
    <div class="ayah-ar" id="ayahArabic">Loading...</div>
    <div class="ayah-en" id="ayahEnglish"></div>
 <!-- Qibla Finder -->
<div class="card">
  <h2>üïã Qibla Finder</h2>

  <p id="qiblaStatus">Move your phone to detect direction...</p>

  <div style="display:flex; justify-content:center; margin:15px 0;">
    <div style="width:200px; height:200px; border:3px solid #1e88e5; border-radius:50%; position:relative;">
      
      <!-- Arrow -->
      <div id="needle" style="
        width:4px;
        height:90px;
        background:#1e88e5;
        position:absolute;
        top:10px;
        left:50%;
        transform-origin:bottom center;
        transform:rotate(0deg);
      "></div>

      <!-- Center dot -->
      <div style="
        width:10px;
        height:10px;
        background:#1e88e5;
        border-radius:50%;
        position:absolute;
        top:95px;
        left:95px;
      "></div>
    </div>
  </div>
<p style="font-size:14px; opacity:0.7;">Allow motion & location permission for accuracy</p>
</div> </div>  <!-- Prayer Times -->  <div class="card">
    <div class="title">üï∞ Today‚Äôs Prayer Times</div>
    <div id="locationStatus" style="font-size:13px;color:#6b7280">Getting your location...</div>
    <div class="prayer-grid" id="prayerTimes"></div>
  </div>  <!-- Search -->  <div class="card">
    <div class="title">üîç Search Ayah</div>
    <input id="searchInput" placeholder="Search by keyword (e.g. mercy, prayer)" />
    <button style="margin-top:10px" onclick="searchAyah()">Search</button>
    <div id="searchResults" style="margin-top:10px;font-size:14px"></div>
  </div>  <!-- Surah List -->  <div class="card">
    <div class="title">üìñ Surah List</div>
    <div class="surah-list" id="surahList"></div>
  </div>  <!-- Reader -->  <div class="card" id="reader" style="display:none">
    <div class="title">
      <span id="readerTitle">Surah</span>
      <button class="secondary" onclick="closeReader()">Close</button>
    </div>
    <div id="ayahs"></div>
  </div></div><footer>
  Made with sincerity ‚Ä¢ Ammar Reminds
</footer><script>
// ------------------ AYAH OF THE DAY ------------------
const randomAyah = Math.floor(Math.random() * 6236) + 1;
fetch(`https://api.alquran.cloud/v1/ayah/${randomAyah}/editions/quran-uthmani,en.asad`)
  .then(r => r.json())
  .then(d => {
    document.getElementById('ayahArabic').innerText = d.data[0].text;
    document.getElementById('ayahEnglish').innerText = d.data[1].text;
  });

// ------------------ PRAYER TIMES (LIVE LOCATION) ------------------
const prayerBox = document.getElementById('prayerTimes');
const statusText = document.getElementById('locationStatus');

if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(pos => {
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;

    statusText.innerText = "Location detected. Fetching prayer times...";

    fetch(`https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${lon}&method=2`)
      .then(r => r.json())
      .then(data => {
        const times = data.data.timings;
        statusText.innerText = "Your local prayer times";

        const prayers = ['Fajr','Dhuhr','Asr','Maghrib','Isha'];
        prayerBox.innerHTML = '';

        prayers.forEach(p => {
          const div = document.createElement('div');
          div.className = 'prayer-item';
          div.innerHTML = `<strong>${p}</strong><br>${times[p]}`;
          prayerBox.appendChild(div);
        });
      });

  }, () => {
    statusText.innerText = "Location permission denied.";
  });
} else {
  statusText.innerText = "Geolocation not supported.";
}

// ------------------ SURAH LIST ------------------
fetch('https://api.alquran.cloud/v1/surah')
  .then(r => r.json())
  .then(d => {
    const list = document.getElementById('surahList');
    d.data.forEach(s => {
      const btn = document.createElement('div');
      btn.className = 'surah-btn';
      btn.innerText = s.number + '. ' + s.englishName;
      btn.onclick = () => loadSurah(s.number, s.englishName);
      list.appendChild(btn);
    });
  });

function loadSurah(num, name) {
  document.getElementById('reader').style.display = 'block';
  document.getElementById('readerTitle').innerText = name;
  const ayahDiv = document.getElementById('ayahs');
  ayahDiv.innerHTML = 'Loading...';

  fetch(`https://api.alquran.cloud/v1/surah/${num}/editions/quran-uthmani,ar.alafasy,en.asad`)
    .then(r => r.json())
    .then(d => {
      const ar = d.data[0].ayahs;
      const audio = d.data[1].ayahs;
      const en = d.data[2].ayahs;

      ayahDiv.innerHTML = '';
      ar.forEach((a, i) => {
        const box = document.createElement('div');
        box.style.marginBottom = '18px';
        box.innerHTML = `
          <div class="ayah-ar">${a.text}</div>
          <div class="ayah-en">${en[i].text}</div>
          <audio controls src="${audio[i].audio}"></audio>
        `;
        ayahDiv.appendChild(box);
      });
    });
}

function closeReader() {
  document.getElementById('reader').style.display = 'none';
}

// ------------------ SEARCH AYAH ------------------
function searchAyah() {
  const q = document.getElementById('searchInput').value;
  if(!q) return;

  const resultDiv = document.getElementById('searchResults');
  resultDiv.innerText = 'Searching...';

  fetch(`https://api.alquran.cloud/v1/search/${q}/all/en`)
    .then(r => r.json())
    .then(d => {
      resultDiv.innerHTML = '';
      d.data.matches.slice(0,5).forEach(m => {
        const p = document.createElement('p');
        p.innerText = `Surah ${m.surah.number}:${m.numberInSurah} - ${m.text}`;
        resultDiv.appendChild(p);
      });
    });
}
</script></body>
</html>
